<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {% assign sitename = site.brand | default: site.title %}
  {% assign symbol = site.brand_emoji | default: "🍵" %}
  <title>{{ symbol }} {{ sitename }}</title>
  <meta name="description" content="{{ site.description }}">
  <link rel="stylesheet" href="{{ '/assets/main.css' | relative_url }}">
  {% seo %}
  <link rel="alternate" type="application/atom+xml" title="{{ site.title }} Feed"
    href="{{ '/feed.xml' | relative_url }}">
</head>

<body>
  <div class="container">
    <header class="site">
      <div class="topbar">
        <div class="brand">
          <a href="{{ '/' | relative_url }}">{{ site.brand | default: site.title }}</a>
          <button id="theme-toggle" class="theme-btn" aria-label="Toggle theme" title="Toggle theme">
            <!-- JS will replace this; a safe default: -->
            <span aria-hidden="true">🌙</span>
          </button>
        </div>

        <nav class="main-nav">
          <!-- LinkedIn -->
          <a class="icon" href="https://www.linkedin.com/in/shirleyxxy" target="_blank" rel="me noopener"
            aria-label="LinkedIn" title="LinkedIn">
            <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
              <path fill="currentColor"
                d="M4.98 3.5a2.5 2.5 0 1 1 0 5.001 2.5 2.5 0 0 1 0-5.001zM3 9h4v12H3zM14.5 9c-2.21 0-3.5 1.204-3.5 2.86V21h4v-6.5c0-.91.74-1.65 1.65-1.65S18 13.59 18 14.5V21h4v-7.5C22 10.57 20.43 9 18.15 9c-1.29 0-2.37.61-2.95 1.55H15l-.12-1.55H11z" />
            </svg>
          </a>

          <!-- Instagram -->
          <a class="icon" href="https://www.instagram.com/wakeupshirleyy/" target="_blank" rel="me noopener"
            aria-label="Instagram" title="Instagram">
            <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true">
              <path fill="none" stroke="currentColor" stroke-width="2"
                d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5z" />
              <circle cx="12" cy="12" r="4.5" fill="none" stroke="currentColor" stroke-width="2" />
              <circle cx="17.5" cy="6.5" r="1.2" fill="currentColor" />
            </svg>
          </a>
        </nav>
      </div>

    {% if page.url == "/" or page.layout == "home" %}
      <div class="hero">
        <h1 class="hero-title">{{ site.title }}</h1>
        <p class="hero-desc">{{ site.description }}</p>
      </div>
    {% endif %}
    </header>
    <main>
      {{ content }}
    </main>
    <footer class="site">
      © {{ site.time | date: '%Y' }} {{ site.brand | default: site.title }} · Built with Jekyll
    </footer>
  </div>
  <script>
    (function () {
      const root = document.documentElement;
      const btn = document.getElementById('theme-toggle');

      // Prefer saved choice; otherwise mirror OS once
      const saved = localStorage.getItem('theme'); // "light" | "dark" | null
      if (saved === 'light' || saved === 'dark') {
        root.dataset.theme = saved;
      } else {
        root.dataset.theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      }

      // Icon swap (simple & dependency-free)
      function setIcon() {
        btn.textContent = (root.dataset.theme === 'dark') ? '☀️' : '🌙';
      }
      setIcon();

      // Toggle & persist
      btn.addEventListener('click', () => {
        root.dataset.theme = (root.dataset.theme === 'dark') ? 'light' : 'dark';
        localStorage.setItem('theme', root.dataset.theme);
        setIcon();
      });
    })();
  </script>
</body>

</html>